import{s as Me,L as q,C as J,E as W,b as T,f as m,p as O,M as me,i as d,h as p,n as K,N as ce,O as he,t as Q,d as X,j as ge,J as tt,a as P,e as z,g as I,c as B,l as Fe,P as lt,v as Ve,k as nt,D as Oe}from"../chunks/scheduler.55267da8.js";import{S as Ce,i as Pe,h as it,c as S,b as D,m as F,a as _,f as Le,t as k,d as V,g as Ne}from"../chunks/index.102465cc.js";import{e as ue}from"../chunks/each.0e52d141.js";import{g as Re,U as rt,B as Se,S as st,a as at}from"../chunks/UserCtrlWidget.47ea984c.js";import{p as ot}from"../chunks/stores.4c5e9ab2.js";import{S as ft,F as Be,T as Qe,a as He,g as ut}from"../chunks/navigation.f3b88d50.js";function Ye(r){let e,l;return{c(){e=J("title"),l=Q(r[1])},l(t){e=W(t,"title",{});var n=T(e);l=X(n,r[1]),n.forEach(m)},m(t,n){d(t,e,n),p(e,l)},p(t,n){n&2&&ge(l,t[1])},d(t){t&&m(e)}}}function mt(r){let e,l,t=r[1]&&Ye(r),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],o={};for(let i=0;i<n.length;i+=1)o=q(o,n[i]);return{c(){e=J("svg"),t&&t.c(),l=J("path"),this.h()},l(i){e=W(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=T(e);t&&t.l(a),l=W(a,"path",{d:!0}),T(l).forEach(m),a.forEach(m),this.h()},h(){O(l,"d","M27.71,9.29l-5-5A1,1,0,0,0,22,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V10A1,1,0,0,0,27.71,9.29ZM12,6h8v4H12Zm8,20H12V18h8Zm2,0V18a2,2,0,0,0-2-2H12a2,2,0,0,0-2,2v8H6V6h4v4a2,2,0,0,0,2,2h8a2,2,0,0,0,2-2V6.41l4,4V26Z"),me(e,o)},m(i,a){d(i,e,a),t&&t.m(e,null),p(e,l)},p(i,[a]){i[1]?t?t.p(i,a):(t=Ye(i),t.c(),t.m(e,l)):t&&(t.d(1),t=null),me(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:i[0]},a&1&&{height:i[0]},a&4&&i[2],a&8&&i[3]]))},i:K,o:K,d(i){i&&m(e),t&&t.d()}}}function ct(r,e,l){let t,n;const o=["size","title"];let i=ce(e,o),{size:a=16}=e,{title:u=void 0}=e;return r.$$set=h=>{l(5,e=q(q({},e),he(h))),l(3,i=ce(e,o)),"size"in h&&l(0,a=h.size),"title"in h&&l(1,u=h.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||u),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=he(e),[a,u,n,i,t]}class ht extends Ce{constructor(e){super(),Pe(this,e,ct,mt,Me,{size:0,title:1})}}function Ze(r){let e,l;return{c(){e=J("title"),l=Q(r[1])},l(t){e=W(t,"title",{});var n=T(e);l=X(n,r[1]),n.forEach(m)},m(t,n){d(t,e,n),p(e,l)},p(t,n){n&2&&ge(l,t[1])},d(t){t&&m(e)}}}function gt(r){let e,l,t=r[1]&&Ze(r),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],o={};for(let i=0;i<n.length;i+=1)o=q(o,n[i]);return{c(){e=J("svg"),t&&t.c(),l=J("path"),this.h()},l(i){e=W(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=T(e);t&&t.l(a),l=W(a,"path",{d:!0}),T(l).forEach(m),a.forEach(m),this.h()},h(){O(l,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),me(e,o)},m(i,a){d(i,e,a),t&&t.m(e,null),p(e,l)},p(i,[a]){i[1]?t?t.p(i,a):(t=Ze(i),t.c(),t.m(e,l)):t&&(t.d(1),t=null),me(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:i[0]},a&1&&{height:i[0]},a&4&&i[2],a&8&&i[3]]))},i:K,o:K,d(i){i&&m(e),t&&t.d()}}}function dt(r,e,l){let t,n;const o=["size","title"];let i=ce(e,o),{size:a=16}=e,{title:u=void 0}=e;return r.$$set=h=>{l(5,e=q(q({},e),he(h))),l(3,i=ce(e,o)),"size"in h&&l(0,a=h.size),"title"in h&&l(1,u=h.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||u),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=he(e),[a,u,n,i,t]}class _t extends Ce{constructor(e){super(),Pe(this,e,dt,gt,Me,{size:0,title:1})}}function je(r){let e,l;return{c(){e=J("title"),l=Q(r[1])},l(t){e=W(t,"title",{});var n=T(e);l=X(n,r[1]),n.forEach(m)},m(t,n){d(t,e,n),p(e,l)},p(t,n){n&2&&ge(l,t[1])},d(t){t&&m(e)}}}function pt(r){let e,l,t=r[1]&&je(r),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],o={};for(let i=0;i<n.length;i+=1)o=q(o,n[i]);return{c(){e=J("svg"),t&&t.c(),l=J("path"),this.h()},l(i){e=W(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=T(e);t&&t.l(a),l=W(a,"path",{d:!0}),T(l).forEach(m),a.forEach(m),this.h()},h(){O(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),me(e,o)},m(i,a){d(i,e,a),t&&t.m(e,null),p(e,l)},p(i,[a]){i[1]?t?t.p(i,a):(t=je(i),t.c(),t.m(e,l)):t&&(t.d(1),t=null),me(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:i[0]},a&1&&{height:i[0]},a&4&&i[2],a&8&&i[3]]))},i:K,o:K,d(i){i&&m(e),t&&t.d()}}}function vt(r,e,l){let t,n;const o=["size","title"];let i=ce(e,o),{size:a=16}=e,{title:u=void 0}=e;return r.$$set=h=>{l(5,e=q(q({},e),he(h))),l(3,i=ce(e,o)),"size"in h&&l(0,a=h.size),"title"in h&&l(1,u=h.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||u),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=he(e),[a,u,n,i,t]}class bt extends Ce{constructor(e){super(),Pe(this,e,vt,pt,Me,{size:0,title:1})}}function ye(r,e,l){const t=r.slice();return t[20]=e[l],t[22]=l,t}function Ge(r,e,l){const t=r.slice();return t[23]=e[l],t[22]=l,t}function qe(r,e,l){const t=r.slice();return t[23]=e[l],t[22]=l,t}function $t(r){let e=r[23].name+"",l;return{c(){l=Q(e)},l(t){l=X(t,e)},m(t,n){d(t,l,n)},p(t,n){n&16&&e!==(e=t[23].name+"")&&ge(l,e)},d(t){t&&m(l)}}}function Je(r){let e,l;function t(...n){return r[12](r[23],...n)}return e=new Qe({props:{id:r[23].id,type:r[23].color,style:"background-color:"+r[23].color+";",interactive:!0,$$slots:{default:[$t]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){S(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,o){F(e,n,o),l=!0},p(n,o){r=n;const i={};o&16&&(i.id=r[23].id),o&16&&(i.type=r[23].color),o&16&&(i.style="background-color:"+r[23].color+";"),o&67108880&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){V(e,n)}}}function wt(r){let e=r[23].name+"",l;return{c(){l=Q(e)},l(t){l=X(t,e)},m(t,n){d(t,l,n)},p(t,n){n&8&&e!==(e=t[23].name+"")&&ge(l,e)},d(t){t&&m(l)}}}function We(r){let e,l;function t(...n){return r[13](r[23],...n)}return e=new Qe({props:{id:r[23].id,type:r[23].color,style:"background-color:"+r[23].color+";",interactive:!0,$$slots:{default:[wt]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){S(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,o){F(e,n,o),l=!0},p(n,o){r=n;const i={};o&8&&(i.id=r[23].id),o&8&&(i.type=r[23].color),o&8&&(i.style="background-color:"+r[23].color+";"),o&67108872&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){V(e,n)}}}function Ke(r){let e,l;return e=new at({props:{value:r[20].id,text:r[20].name}}),{c(){S(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.value=t[20].id),n&1&&(o.text=t[20].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){V(e,t)}}}function kt(r){let e,l,t=ue(r[0].tagGroups),n=[];for(let i=0;i<t.length;i+=1)n[i]=Ke(ye(r,t,i));const o=i=>k(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Oe()},l(i){for(let a=0;a<n.length;a+=1)n[a].l(i);e=Oe()},m(i,a){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(i,a);d(i,e,a),l=!0},p(i,a){if(a&1){t=ue(i[0].tagGroups);let u;for(u=0;u<t.length;u+=1){const h=ye(i,t,u);n[u]?(n[u].p(h,a),_(n[u],1)):(n[u]=Ke(h),n[u].c(),_(n[u],1),n[u].m(e.parentNode,e))}for(Ne(),u=t.length;u<n.length;u+=1)o(u);Le()}},i(i){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(i){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)k(n[a]);l=!1},d(i){i&&m(e),Ve(n,i)}}}function Et(r){let e,l,t,n,o,i,a,u,h,A;return t=new He({props:{inline:"true",labelText:"Name",name:"id",autocomplete:"off"}}),o=new He({props:{inline:"true",labelText:"New-Name",name:"newname",autocomplete:"off"}}),a=new st({props:{inline:"true",labelText:"color",name:"group",$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){e=z("label"),l=Q(`create/modify a tag:\r
        `),S(t.$$.fragment),n=P(),S(o.$$.fragment),i=P(),S(a.$$.fragment),u=P(),h=z("input"),this.h()},l(w){e=B(w,"LABEL",{});var v=T(e);l=X(v,`create/modify a tag:\r
        `),D(t.$$.fragment,v),n=I(v),D(o.$$.fragment,v),i=I(v),D(a.$$.fragment,v),u=I(v),h=B(v,"INPUT",{type:!0}),v.forEach(m),this.h()},h(){O(h,"type","submit")},m(w,v){d(w,e,v),p(e,l),F(t,e,null),p(e,n),F(o,e,null),p(e,i),F(a,e,null),p(e,u),p(e,h),A=!0},p(w,v){const Y={};v&67108865&&(Y.$$scope={dirty:v,ctx:w}),a.$set(Y)},i(w){A||(_(t.$$.fragment,w),_(o.$$.fragment,w),_(a.$$.fragment,w),A=!0)},o(w){k(t.$$.fragment,w),k(o.$$.fragment,w),k(a.$$.fragment,w),A=!1},d(w){w&&m(e),V(t),V(o),V(a)}}}function Tt(r){let e,l,t,n,o;return t=new He({props:{name:"id",autocomplete:"off"}}),{c(){e=z("label"),l=Q(`delete a tag:\r
        `),S(t.$$.fragment),n=z("input"),this.h()},l(i){e=B(i,"LABEL",{});var a=T(e);l=X(a,`delete a tag:\r
        `),D(t.$$.fragment,a),n=B(a,"INPUT",{type:!0}),a.forEach(m),this.h()},h(){O(n,"type","submit")},m(i,a){d(i,e,a),p(e,l),F(t,e,null),p(e,n),o=!0},p:K,i(i){o||(_(t.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),o=!1},d(i){i&&m(e),V(t)}}}function At(r){let e,l=`delete a tag:
        <input name="id" autocomplete="off"/>`;return{c(){e=z("label"),e.innerHTML=l},l(t){e=B(t,"LABEL",{"data-svelte-h":!0}),Fe(e)!=="svelte-1634ybc"&&(e.innerHTML=l)},m(t,n){d(t,e,n)},p:K,d(t){t&&m(e)}}}function zt(r){let e;return{c(){e=z("input"),this.h()},l(l){e=B(l,"INPUT",{name:!0,autocomplete:!0}),this.h()},h(){O(e,"name","idlist"),O(e,"autocomplete","off")},m(l,t){d(l,e,t)},p:K,d(l){l&&m(e)}}}function Bt(r){let e,l,t,n,o,i,a,u,h,A,w,v,Y,le=r[0].item.name+"",oe,fe,Z,R,x,we="Unassigned Tags",U,g,L,M,E,N,H,ke="Assigned Tags",Ie,Ee,ne,ee,Te,ie,j,Ae,y,ze,G,de;e=new rt({}),i=new Se({props:{size:"field",iconDescription:"Back",icon:bt,href:r[5]}}),u=new Se({props:{disabled:!r[2],size:"field",iconDescription:"Save",icon:ht}}),u.$on("click",r[9]),A=new Se({props:{disabled:!r[2],size:"field",iconDescription:"Undo",icon:_t}}),A.$on("click",r[10]);function Xe(s){r[11](s)}let Ue={size:"sm",autocomplete:"on"};r[1]!==void 0&&(Ue.search=r[1]),U=new ft({props:Ue}),tt.push(()=>it(U,"search",Xe));let re=ue(r[4]),b=[];for(let s=0;s<re.length;s+=1)b[s]=Je(qe(r,re,s));const xe=s=>k(b[s],1,1,()=>{b[s]=null});let se=ue(r[3]),$=[];for(let s=0;s<se.length;s+=1)$[s]=We(Ge(r,se,s));const et=s=>k($[s],1,1,()=>{$[s]=null});return ee=new Be({props:{method:"POST",action:"?/create",$$slots:{default:[Et]},$$scope:{ctx:r}}}),j=new Be({props:{name:"myForm",method:"POST",action:"?/delete",$$slots:{default:[Tt]},$$scope:{ctx:r}}}),j.$on("submit",r[14]),y=new Be({props:{name:"myForm2",method:"POST",action:"?/delete",hidden:!0,$$slots:{default:[At]},$$scope:{ctx:r}}}),y.$on("submit",r[15]),G=new Be({props:{name:"assignForm",id:"assignForm",method:"POST",enctype:"multipart/form-data",action:"?/assign",hidden:!0,$$slots:{default:[zt]},$$scope:{ctx:r}}}),G.$on("submit",r[16]),{c(){S(e.$$.fragment),l=P(),t=z("hr"),n=P(),o=z("div"),S(i.$$.fragment),a=P(),S(u.$$.fragment),h=P(),S(A.$$.fragment),w=P(),v=z("span"),Y=Q("Editing "),oe=Q(le),fe=P(),Z=z("div"),R=z("div"),x=z("p"),x.textContent=we,S(U.$$.fragment),L=P();for(let s=0;s<b.length;s+=1)b[s].c();M=P(),E=z("div"),N=z("div"),H=z("p"),H.textContent=ke,Ie=P();for(let s=0;s<$.length;s+=1)$[s].c();Ee=P(),ne=z("div"),S(ee.$$.fragment),Te=P(),ie=z("div"),S(j.$$.fragment),Ae=P(),S(y.$$.fragment),ze=P(),S(G.$$.fragment),this.h()},l(s){D(e.$$.fragment,s),l=I(s),t=B(s,"HR",{}),n=I(s),o=B(s,"DIV",{});var f=T(o);D(i.$$.fragment,f),a=I(f),D(u.$$.fragment,f),h=I(f),D(A.$$.fragment,f),w=I(f),v=B(f,"SPAN",{});var C=T(v);Y=X(C,"Editing "),oe=X(C,le),C.forEach(m),f.forEach(m),fe=I(s),Z=B(s,"DIV",{class:!0});var _e=T(Z);R=B(_e,"DIV",{});var te=T(R);x=B(te,"P",{"data-svelte-h":!0}),Fe(x)!=="svelte-1fw8fpw"&&(x.textContent=we),D(U.$$.fragment,te),L=I(te);for(let c=0;c<b.length;c+=1)b[c].l(te);te.forEach(m),_e.forEach(m),M=I(s),E=B(s,"DIV",{class:!0});var pe=T(E);N=B(pe,"DIV",{});var ae=T(N);H=B(ae,"P",{"data-svelte-h":!0}),Fe(H)!=="svelte-2p88vh"&&(H.textContent=ke),Ie=I(ae);for(let c=0;c<$.length;c+=1)$[c].l(ae);ae.forEach(m),pe.forEach(m),Ee=I(s),ne=B(s,"DIV",{class:!0});var ve=T(ne);D(ee.$$.fragment,ve),ve.forEach(m),Te=I(s),ie=B(s,"DIV",{class:!0});var be=T(ie);D(j.$$.fragment,be),be.forEach(m),Ae=I(s),D(y.$$.fragment,s),ze=I(s),D(G.$$.fragment,s),this.h()},h(){O(Z,"class","myForm svelte-ncv9u"),O(E,"class","myForm svelte-ncv9u"),O(ne,"class","myForm svelte-ncv9u"),O(ie,"class","myForm svelte-ncv9u")},m(s,f){F(e,s,f),d(s,l,f),d(s,t,f),d(s,n,f),d(s,o,f),F(i,o,null),p(o,a),F(u,o,null),p(o,h),F(A,o,null),p(o,w),p(o,v),p(v,Y),p(v,oe),d(s,fe,f),d(s,Z,f),p(Z,R),p(R,x),F(U,R,null),p(R,L);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(R,null);d(s,M,f),d(s,E,f),p(E,N),p(N,H),p(N,Ie);for(let C=0;C<$.length;C+=1)$[C]&&$[C].m(N,null);d(s,Ee,f),d(s,ne,f),F(ee,ne,null),d(s,Te,f),d(s,ie,f),F(j,ie,null),d(s,Ae,f),F(y,s,f),d(s,ze,f),F(G,s,f),de=!0},p(s,[f]){const C={};f&4&&(C.disabled=!s[2]),u.$set(C);const _e={};f&4&&(_e.disabled=!s[2]),A.$set(_e),(!de||f&1)&&le!==(le=s[0].item.name+"")&&ge(oe,le);const te={};if(!g&&f&2&&(g=!0,te.search=s[1],lt(()=>g=!1)),U.$set(te),f&80){re=ue(s[4]);let c;for(c=0;c<re.length;c+=1){const $e=qe(s,re,c);b[c]?(b[c].p($e,f),_(b[c],1)):(b[c]=Je($e),b[c].c(),_(b[c],1),b[c].m(R,null))}for(Ne(),c=re.length;c<b.length;c+=1)xe(c);Le()}if(f&72){se=ue(s[3]);let c;for(c=0;c<se.length;c+=1){const $e=Ge(s,se,c);$[c]?($[c].p($e,f),_($[c],1)):($[c]=We($e),$[c].c(),_($[c],1),$[c].m(N,null))}for(Ne(),c=se.length;c<$.length;c+=1)et(c);Le()}const pe={};f&67108865&&(pe.$$scope={dirty:f,ctx:s}),ee.$set(pe);const ae={};f&67108864&&(ae.$$scope={dirty:f,ctx:s}),j.$set(ae);const ve={};f&67108864&&(ve.$$scope={dirty:f,ctx:s}),y.$set(ve);const be={};f&67108864&&(be.$$scope={dirty:f,ctx:s}),G.$set(be)},i(s){if(!de){_(e.$$.fragment,s),_(i.$$.fragment,s),_(u.$$.fragment,s),_(A.$$.fragment,s),_(U.$$.fragment,s);for(let f=0;f<re.length;f+=1)_(b[f]);for(let f=0;f<se.length;f+=1)_($[f]);_(ee.$$.fragment,s),_(j.$$.fragment,s),_(y.$$.fragment,s),_(G.$$.fragment,s),de=!0}},o(s){k(e.$$.fragment,s),k(i.$$.fragment,s),k(u.$$.fragment,s),k(A.$$.fragment,s),k(U.$$.fragment,s),b=b.filter(Boolean);for(let f=0;f<b.length;f+=1)k(b[f]);$=$.filter(Boolean);for(let f=0;f<$.length;f+=1)k($[f]);k(ee.$$.fragment,s),k(j.$$.fragment,s),k(y.$$.fragment,s),k(G.$$.fragment,s),de=!1},d(s){s&&(m(l),m(t),m(n),m(o),m(fe),m(Z),m(M),m(E),m(Ee),m(ne),m(Te),m(ie),m(Ae),m(ze)),V(e,s),V(i),V(u),V(A),V(U),Ve(b,s),Ve($,s),V(ee),V(j),V(y,s),V(G,s)}}}function De(r){document.forms.myForm.id.value==""&&(alert("Name must be filled out"),r.preventDefault())}function Mt(r,e,l){let t;nt(r,ot,g=>l(17,t=g));const n=decodeURIComponent(t.url.searchParams.get("from")||"");let{data:o}=e,i="",a=!1,u=[],h=[];function A(g){l(3,u=[]),l(4,h=[]);let L,M;for(var E=0;E<g.myTags.length;E++)u.push(g.myTags[E]);for(var E=0;E<g.allTags.length;E++)L=g.allTags[E],M=u.findIndex(H=>H.id===L.id),M<0&&h.push(L);l(3,u),l(4,h),l(2,a=!1)}function w(g,L){let M,E;L?(M=u,E=h):(E=u,M=h),E.push(g);let N=M.findIndex(H=>H.id===g.id);N>=0&&M.splice(N,1),l(3,u),l(4,h),l(2,a=!0)}async function v(){let g="";for(var L=0;L<u.length;L++)g+=u[L].id+",";g=g.substring(0,g.length-1);let M=new FormData(document.getElementById("assignForm"));M.set("idlist",g),M.append("postid",o.item.id);let N=await fetch("?/assign",{method:"POST",body:M}),H=await N.status,ke=await N.json();console.log(H),H!=200?alert(ke.error):ut(location.href,{replaceState:!0,invalidateAll:!0})}function Y(){A(o)}const le=g=>{v()},oe=g=>{Y()};function fe(g){i=g,l(1,i)}const Z=(g,L)=>w(g),R=(g,L)=>w(g,!0),x=g=>{De(g)},we=g=>{De(g)},U=g=>{De(g)};return r.$$set=g=>{"data"in g&&l(0,o=g.data)},r.$$.update=()=>{r.$$.dirty&1&&A(o)},[o,i,a,u,h,n,w,v,Y,le,oe,fe,Z,R,x,we,U]}class Vt extends Ce{constructor(e){super(),Pe(this,e,Mt,Bt,Me,{data:0})}}export{Vt as component};
